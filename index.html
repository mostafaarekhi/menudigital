<h2>ğŸ† Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†</h2>
<table border="1" cellpadding="10" cellspacing="0" style="margin:auto; border-collapse:collapse;">
  <thead>
    <tr>
      <th>Ø±ØªØ¨Ù‡</th>
      <th>Ù†Ø§Ù… Ùˆ ÙØ§Ù…ÛŒÙ„</th>
      <th>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</th>
      <th>Ø§Ù…ØªÛŒØ§Ø²</th>
    </tr>
  </thead>
  <tbody id="leaderboard">
    <tr><td colspan="4">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</td></tr>
  </tbody>
</table>

<script>
async function loadLeaderboard() {
  const res = await fetch("https://script.google.com/macros/s/AKfycbwRFlV4eMfuWghaS08F1vZ_srZX7yFi_wzFNGtKJgIEYGPLO7QpsmrNTpIpb373Sbfc/exec"); // URL Google Apps Script doGet
  const data = await res.json();

  // Ø¬Ù…Ø¹ Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³
  const users = {};
  data.forEach(item => {
    if(users[item.phone]) {
      users[item.phone].points += Number(item.points) || 0;
    } else {
      users[item.phone] = {
        name: item.name,
        phone: item.phone,
        points: Number(item.points) || 0
      };
    }
  });

  // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¢Ø±Ø§ÛŒÙ‡ Ùˆ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ù…ØªÛŒØ§Ø²
  const leaderboard = Object.values(users).sort((a,b) => b.points - a.points);

  const tbody = document.getElementById("leaderboard");
  tbody.innerHTML = "";

  leaderboard.forEach((user, index) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${index+1}</td>
      <td>${user.name}</td>
      <td>${user.phone}</td>
      <td>${user.points}</td>
    `;
    tbody.appendChild(tr);
  });
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
loadLeaderboard();
</script>
