<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>فرم ثبت اطلاعات</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" type="text/css" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap'); /* جایگزین با یکان در صورت داشتن فونت */
  body { 
    font-family: 'Vazirmatn', Tahoma, sans-serif; 
    direction: rtl; 
    background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%); 
    display: flex; justify-content: center; align-items: center; height: 100vh; 
  }
  form {
    background: #fff; 
    padding: 30px; 
    border-radius: 15px; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
    width: 400px; 
    animation: fadeIn 1s ease;
  }
  input, button {
    width: 100%; 
    padding: 12px; 
    margin: 10px 0; 
    border-radius: 8px; 
    border: 1px solid #ccc; 
    font-size: 16px;
    transition: all 0.3s ease;
  }
  input:focus {
    border-color: #007bff; 
    box-shadow: 0 0 8px rgba(0,123,255,0.5); 
    outline: none;
  }
  button {
    background: #007bff; 
    color: #fff; 
    border: none; 
    cursor: pointer;
    font-weight: bold;
  }
  button:hover {
    background: #0056b3;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  #response {
    text-align: center; 
    font-weight: bold; 
    margin-top: 15px; 
    font-size: 17px;
    min-height: 24px;
    opacity: 0;
    transition: all 0.6s ease;
  }
  #response.show {
    opacity: 1;
    animation: popIn 0.5s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px);}
    to { opacity: 1; transform: translateY(0);}
  }
  @keyframes popIn {
    0% { transform: scale(0.5);}
    50% { transform: scale(1.1);}
    100% { transform: scale(1);}
  }
</style>
</head>
<body>
  <form id="myForm">
    <h2 style="text-align:center; margin-bottom:20px;">فرم ثبت اطلاعات</h2>
    <input type="text" name="firstName" placeholder="نام" required>
    <input type="text" name="lastName" placeholder="نام خانوادگی" required>
    <input type="tel" name="phone" placeholder="شماره تماس" required>
    <button type="submit">ارسال</button>
    <p id="response"></p>
  </form>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbwXxDJ_f8VEiR1AgAyX0AtKx6-2moRzLoDuK21iro9p0plkFBMWtBGGiZDLKfmTHYEu0A/exec"; // لینک Web App Google Apps Script

    document.getElementById("myForm").addEventListener("submit", e => {
      e.preventDefault();

      const formData = {
        firstName: e.target.firstName.value,
        lastName: e.target.lastName.value,
        phone: e.target.phone.value
      };

      fetch(scriptURL, {
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=UTF-8" },
        body: JSON.stringify(formData)
      })
      .then(res => res.json())
      .then(data => {
        const resp = document.getElementById("response");
        resp.innerText = "✅ اطلاعات با موفقیت ثبت شد";
        resp.classList.add("show");
        e.target.reset();
        setTimeout(()=>{ resp.classList.remove("show"); }, 3000);
      })
      .catch(err => {
        const resp = document.getElementById("response");
        resp.innerText = "❌ خطا در ثبت اطلاعات";
        resp.classList.add("show");
        console.error("Error:", err);
        setTimeout(()=>{ resp.classList.remove("show"); }, 3000);
      });
    });
  </script>
</body>
</html>
