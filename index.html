<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ù†ÙˆÛŒ Ú©Ø§ÙÙ‡ â€” Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´</title>
  <style>
    :root{
      --bg:#faf8f6;--card:#fff;--accent:#b85c3c;--muted:#666;
      --glass: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    body{font-family: "Vazirmatn", system-ui, -apple-system, 'Segoe UI', Roboto, "Helvetica Neue", Arial; margin:0;background:linear-gradient(180deg,#fff 0%,var(--bg) 100%);color:#111}
    header{display:flex;align-items:center;gap:12px;padding:18px 20px;border-bottom:1px solid #eee;background:var(--card);position:sticky;top:0;z-index:10;flex-wrap:wrap}
    .logo{width:56px;height:56px;border-radius:12px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff}
    .brand{display:flex;flex-direction:column}
    .brand .title{font-size:18px;font-weight:800}
    .brand .subtitle{font-size:12px;color:var(--muted)}

    .categories-bar{display:flex;overflow-x:auto;gap:8px;padding:10px 0;border-bottom:1px solid #eee;margin-top:8px}
    .category{flex:0 0 auto;display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:10px;cursor:pointer;white-space:nowrap}
    .category:hover{background:#fbf7f6}
    .category.active{background:linear-gradient(90deg,rgba(184,92,60,0.12),rgba(184,92,60,0.06));border-bottom:2px solid var(--accent)}
    .cat-icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:16px}

    .container{padding:18px;max-width:1200px;margin:18px auto}

    .main{display:flex;flex-direction:column;gap:12px}
    .filters{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .search{flex:1;margin-left:12px}
    input[type=search]{width:100%;padding:10px;border-radius:10px;border:1px solid #eee}

    .items{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    @media (max-width:900px){.items{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.items{grid-template-columns:1fr}}

    .card{background:var(--card);border-radius:12px;padding:12px;display:flex;gap:12px;align-items:center;box-shadow:0 6px 18px rgba(0,0,0,0.03)}
    .photo{width:96px;height:72px;border-radius:8px;background:#eee;flex-shrink:0;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:12px}
    .meta{flex:1}
    .name{font-weight:800}
    .desc{font-size:13px;color:var(--muted);margin-top:6px}
    .price-row{display:flex;gap:10px;align-items:center;margin-top:8px}
    .price{font-weight:800}
    .controls{margin-right:auto;display:flex;align-items:center;gap:8px}
    button.add{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
    .qty{display:inline-flex;align-items:center;border-radius:8px;overflow:hidden;border:1px solid #eee}
    .qty button{padding:6px 8px;background:#fff;border:0;cursor:pointer}
    .qty span{padding:6px 10px;min-width:28px;text-align:center}

    .cart{position:sticky;bottom:18px;background:#fff;border-radius:12px;padding:12px;box-shadow:0 12px 30px rgba(0,0,0,0.06);display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:20px}
    .cart .list{max-height:140px;overflow:auto}
    .cart .total{font-weight:900;font-size:18px}

    footer.note{max-width:1200px;margin:8px auto;text-align:center;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <header>
    <div class="logo">Ú©</div>
    <div class="brand">
      <div class="title">Ú©Ø§ÙÙ‡Ù” Ø³Ù†ØªÛŒ "Ú©Ø§ÙÙ‡â€ŒÚ©"</div>
      <div class="subtitle">Ù…Ù†ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† â€” Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´</div>
    </div>
    <div class="categories-bar" id="categories"></div>
  </header>

  <div class="container">
    <main class="main">
      <div class="filters">
        <div class="search">
          <input id="search" type="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ø¢ÛŒØªÙ… ÛŒØ§ Ù…ÙˆØ§Ø¯..." />
        </div>
      </div>
      <section class="items" id="items"></section>
      <div class="cart" id="cart">
        <div style="display:flex;gap:12px;align-items:flex-start">
          <div style="font-weight:800">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</div>
          <div class="list" id="cartList" style="min-width:220px"></div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end">
          <div class="total" id="total">Ù…Ø¬Ù…ÙˆØ¹: 0 ØªÙˆÙ…Ø§Ù†</div>
          <button id="clearCart" style="margin-top:8px;padding:8px 10px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
        </div>
      </div>
    </main>
  </div>

  <footer class="note">Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ØŒ Ø¨Ø®Ø´ <strong>itemsData</strong> Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯.</footer>

  <script>
    const itemsData = [
      {catId:1, catName:'Ù‚Ù‡ÙˆÙ‡â€ŒÙ‡Ø§', icon:'â˜•', items:[
        {id:'c1',name:'Ø§Ø³Ù¾Ø±Ø³Ùˆ',desc:'Ø¹ØµØ§Ø±Ù‡Ù” Ù‚Ù‡ÙˆÙ‡Ù” ÙØ´Ø±Ø¯Ù‡',price:40000},
        {id:'c2',name:'Ú©Ø§Ù¾ÙˆÚ†ÛŒÙ†Ùˆ',desc:'Ø´ÛŒØ± Ú©Ùâ€ŒÚ©Ø±Ø¯Ù‡ Ùˆ Ø§Ø³Ù¾Ø±Ø³Ùˆ',price:70000},
      ]},
      {catId:2, catName:'Ú†Ø§ÛŒâ€ŒÙ‡Ø§', icon:'ğŸµ', items:[{id:'t1',name:'Ú†Ø§ÛŒ Ø³ÛŒØ§Ù‡',desc:'Ø¨Ø§ Ø¯Ù…Ù†ÙˆØ´ Ù…Ø­Ù„ÛŒ',price:25000}]},
      {catId:3, catName:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ù†Ú©', icon:'ğŸ¥¤', items:[{id:'f1',name:'Ù„ÛŒÙ…ÙˆÙ†Ø§Ø¯',desc:'ØªØ±Ø´ Ùˆ Ø´ÛŒØ±ÛŒÙ†',price:30000}]},
      {catId:4, catName:'Ú©ÛŒÚ©â€ŒÙ‡Ø§', icon:'ğŸ°', items:[{id:'k1',name:'Ú©ÛŒÚ© Ø´Ú©Ù„Ø§ØªÛŒ',desc:'ÛŒØ§Ø¯Ú¯Ø§Ø±ÛŒ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø®ÙˆØ¨',price:85000}]},
      {catId:5, catName:'ØµØ¨Ø­Ø§Ù†Ù‡', icon:'ğŸ¥', items:[{id:'b1',name:'Ù¾Ù†ÛŒØ± Ùˆ Ú¯Ø±Ø¯Ùˆ',desc:'ØµØ¨Ø­Ø§Ù†Ù‡Ù” Ø³Ø¨Ú©',price:60000}]},
      {catId:6, catName:'Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙ‡Ø§', icon:'ğŸ¥ª', items:[{id:'s1',name:'Ø³Ø§Ù†Ø¯ÙˆÛŒÚ† Ù…Ø±Øº',desc:'Ù…Ø±Øº Ú¯Ø±ÛŒÙ„ Ø´Ø¯Ù‡',price:90000}]},
      {catId:7, catName:'Ø³Ø§Ù„Ø§Ø¯Ù‡Ø§', icon:'ğŸ¥—', items:[{id:'sa1',name:'Ø³Ø§Ù„Ø§Ø¯ ÙØµÙ„',desc:'Ø³Ø¨Ø²ÛŒØ¬Ø§Øª ØªØ§Ø²Ù‡',price:50000}]},
      {catId:8, catName:'Ø¯Ø³Ø±Ù‡Ø§', icon:'ğŸ®', items:[{id:'d1',name:'Ù¾Ø§Ù†Ø§Ú©ÙˆØªØ§',desc:'Ø®Ø§Ù…Ù‡Ù” Ù„Ø·ÛŒÙ',price:65000}]},
      {catId:9, catName:'Ù¾ÛŒØ´â€ŒØºØ°Ø§Ù‡Ø§', icon:'ğŸ§†', items:[{id:'p1',name:'Ø³ÛŒØ¨â€ŒØ²Ù…ÛŒÙ†ÛŒ ØªÙ†ÙˆØ±ÛŒ',desc:'Ø¨Ø§ Ø³Ø³ Ù…Ø®ØµÙˆØµ',price:45000}]},
      {catId:10, catName:'Ù…Ø®ØµÙˆØµ Ø±ÙˆØ²', icon:'â­', items:[{id:'m1',name:'ØµØ¨Ø­Ø§Ù†Ù‡Ù” ÙˆÛŒÚ˜Ù‡Ù” Ú©Ø§ÙÙ‡',desc:'ØªØ±Ú©ÛŒØ¨ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø³Ø±Ø¢Ø´Ù¾Ø²',price:120000}]}
    ];

    const categoriesEl = document.getElementById('categories');
    const itemsEl = document.getElementById('items');
    const search = document.getElementById('search');
    const cartList = document.getElementById('cartList');
    const totalEl = document.getElementById('total');
    const clearCartBtn = document.getElementById('clearCart');

    let activeCat = itemsData[0].catId; // Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø³ØªÙ‡
    let cart = {};

    function renderCategories(){
      categoriesEl.innerHTML='';
      itemsData.forEach(cat=>{
        const div=document.createElement('div');
        div.className='category';
        div.dataset.cat=cat.catId;
        div.innerHTML=`<div class="cat-icon">${cat.icon}</div><div>${cat.catName}</div>`;
        div.addEventListener('click',()=>{setActive(cat.catId)});
        categoriesEl.appendChild(div);
      });
    }

    function setActive(id){
      activeCat = id;
      document.querySelectorAll('.category').forEach(el=>el.classList.toggle('active', el.dataset.cat==id));
      renderItems();
    }

    function renderItems(){
      const q = search.value.trim().toLowerCase();
      itemsEl.innerHTML='';
      const cats = itemsData.filter(c=>c.catId==activeCat);
      cats.forEach(cat=>{
        cat.items.forEach(it=>{
          if(q){
            const text = (it.name + ' ' + it.desc + ' ' + cat.catName).toLowerCase();
            if(!text.includes(q)) return;
          }

          const card = document.createElement('article'); card.className='card';
          card.innerHTML = `
            <div class="photo">Ø¹Ú©Ø³</div>
            <div class="meta">
              <div class="name">${it.name}</div>
              <div class="desc">${it.desc}</div>
              <div class="price-row">
                <div class="controls">
                  <div class="qty" data-id="${it.id}">
                    <button class="dec">âˆ’</button>
                    <span class="count">0</span>
                    <button class="inc">+</button>
                  </div>
                </div>
                <div class="price">${it.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                <div style="width:8px"></div>
                <button class="add" data-id="${it.id}">Ø§ÙØ²ÙˆØ¯Ù†</button>
              </div>
            </div>`;

          card.querySelector('.add').addEventListener('click', ()=> addToCart(it));
          const inc = card.querySelector('.inc'); const dec = card.querySelector('.dec');
          inc.addEventListener('click', ()=> changeQty(it.id, 1));
          dec.addEventListener('click', ()=> changeQty(it.id, -1));

          itemsEl.appendChild(card);
        })
      })
      updateUICounts();
    }

    function addToCart(item){
      if(!cart[item.id]) cart[item.id] = {item, qty:0};
      cart[item.id].qty += 1;
      updateCart();
      updateUICounts();
    }
    function changeQty(id, delta){
      if(!cart[id]){
        const found = itemsData.flatMap(c=>c.items).find(x=>x.id===id);
        if(!found) return;
        cart[id] = {item:found, qty:0};
      }
      cart[id].qty = Math.max(0, cart[id].qty + delta);
      if(cart[id].qty===0) delete cart[id];
      updateCart(); updateUICounts();
    }

    function updateCart(){
      cartList.innerHTML='';
      let total = 0;
      Object.values(cart).forEach(c=>{
        const row = document.createElement('div');
        row.style.display='flex'; row.style.justifyContent='space-between'; row.style.gap='8px'; row.style.padding='6px 0';
        row.innerHTML = `<div style="min-width:160px">${c.item.name} Ã— ${c.qty}</div><div style="font-weight:700">${(c.item.price*c.qty).toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>`;
        cartList.appendChild(row);
        total += c.item.price * c.qty;
      });
      totalEl.textContent = `Ù…Ø¬Ù…ÙˆØ¹: ${total.toLocaleString()} ØªÙˆÙ…Ø§Ù†`;
    }

    function updateUICounts(){
      document.querySelectorAll('.qty').forEach(el=>{
        const id = el.dataset.id;
        const count = cart[id] ? cart[id].qty : 0;
        el.querySelector('.count').textContent = count;
      });
    }

    search.addEventListener('input', ()=> renderItems());
    clearCartBtn.addEventListener('click', ()=>{ cart = {}; updateCart(); updateUICounts(); });

    function init(){ renderCategories(); setActive(activeCat); }
    init();
  </script>
</body>
</html>
